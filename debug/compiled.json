{
    "head": {
        "_children_": [
            "<style id='osbase_general-styles'>\nbody {\n    background-color: #ffe4e1; /* This is a light pink color */\n    overflow: hidden; /* This will hide any content that goes beyond the visible area */\n}\n\n</style>",
            "<script id='osbase_global-objects'>\n(() => {\nwindow.os = {};\n\n\n})()\n</script>",
            "<script id='osbase_filesystem'>\n(() => {\n// Load filesystem object from local storage if it exists\nlet filesystem = JSON.parse(localStorage.getItem('filesystem')) || {};\n\n// Define window.os.fs object\nif (!window.os) { window.os = {}; }\nif (!window.os.fs) { window.os.fs = {}; }\n\n// Define sync function\nwindow.os.fs.sync = function() {\n    localStorage.setItem('filesystem', JSON.stringify(filesystem));\n}\n\n// Define readPath function\nwindow.os.fs.readPath = function(path) {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let pathArray = path.split('/');\n    let current = filesystem;\n    for (let i = 0; i < pathArray.length; i++) {\n        if (current[pathArray[i]] === undefined) { return undefined; } // path not found\n        current = current[pathArray[i]];\n    }\n    return current;\n}\n\n// Define write function\nwindow.os.fs.write = function(path, content) {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let pathArray = path.split('/');\n    let current = filesystem;\n    for (let i = 0; i < pathArray.length - 1; i++) { // skip last element (file name)\n        if (current[pathArray[i]] === undefined) { current[pathArray[i]] = {}; } // create path if it doesn't exist\n        current = current[pathArray[i]];\n    }\n    current[pathArray[pathArray.length - 1]] = content; // set content of file at path\n    this.sync(); // save changes to filesystem\n}\n\n// Define ls function\nwindow.os.fs.ls = function(path = '') {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let current = this.readPath(path) || filesystem; // get directory at path or root if path is empty or not found\n    return Object.keys(current); // return list of entries in directory\n}\n\n// Define mkdir function\nwindow.os.fs.mkdir = function(path) {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let pathArray = path.split('/');\n    let current = filesystem;\n    for (let i = 0; i < pathArray.length - 1; i++) { // skip last element (directory name)\n        if (current[pathArray[i]] === undefined) { current[pathArray[i]] = {}; } // create path if it doesn't exist\n        current = current[pathArray[i]];\n    }\n    current[pathArray[pathArray.length - 1]] = {}; // create directory at path\n    this.sync(); // save changes to filesystem\n}\n\n// Define rm function\nwindow.os.fs.rm = function(path) {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let pathArray = path.split('/');\n    let current = filesystem;\n    for (let i = 0; i < pathArray.length - 1; i++) { // skip last element (file name)\n        if (current[pathArray[i]] === undefined) { return; } // path not found\n        current = current[pathArray[i]];\n    }\n    delete current[pathArray[pathArray.length - 1]]; // remove file at path\n    this.sync(); // save changes to filesystem\n}\n\n// Define isFile function\nwindow.os.fs.isFile = function(path) {\n    if (path[0] === '/') { path = path.substring(1); } // remove leading '/' if exists\n    let value = this.readPath(path); // get value at path\n    return typeof value === 'string'; // return true if value is string (file)\n}\n\n\n})()\n</script>",
            "<style id='desktop_content-style'>\n#desktop_content {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow-y: hidden;\n    padding: 10px;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    align-content: flex-start;\n}\n\n</style>",
            "<style id='desktop_styles'>\n.icon {\n    width: 64px;\n    min-height: 64px;\n    text-align: center;\n    margin: 5px;\n    cursor: pointer;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n}\n\n.emoji {\n    display: block;\n    font-size: 30px;\n    inline-block;\n    position: relative;\n}\n\n.title {\n    display: block;\n    font-size: 8px;\n    font-family: monospace;\n    color: black;\n    padding: 5px;\n    word-wrap: break-word;\n    border: 2px solid black;\n    background-color: white;\n    border-radius: 5px;\n}\n\n.app-emoji {\n    position: absolute;\n    right: 12px;\n    top: 20px;\n}\n\n</style>",
            "<script id='desktop_icon'>\n(() => {\n// Check if window.os exists, if not create it\nif (!window.os) {\n    window.os = {};\n}\n\n// Function to create icon\nwindow.os.icon = function(parent, emoji, title, callback) {\n    // Create root DOM element with class .icon\n    var icon = document.createElement('div');\n    icon.className = 'icon';\n    \n    // Create span with class .emoji and add it to icon\n    var emojiSpan = document.createElement('span');\n    emojiSpan.className = 'emoji';\n    emojiSpan.textContent = emoji;\n    icon.appendChild(emojiSpan);\n    \n    // Create span with class .title and add it to icon\n    var titleSpan = document.createElement('span');\n    titleSpan.className = 'title';\n    titleSpan.textContent = title;\n    icon.appendChild(titleSpan);\n    \n    // Add click event listener to icon\n    icon.addEventListener('click', function() {\n        // Call the callback when the icon is clicked\n        if (callback && typeof(callback) === 'function') {\n            callback();\n        }\n    });\n    \n    // Add icon to the parent element\n    parent.appendChild(icon);\n}\n\n\n})()\n</script>",
            "<script id='desktop_desktop-app'>\n(() => {\nwindow.os = window.os || {}; // If window.os doesn't exist, create it\nwindow.os.addApp = function(emoji, title, callback) {\n  window.os.icon(document.querySelector('#desktop_content'), emoji, title, callback);\n};\n\n\n})()\n</script>",
            "<style id='output_output-styles'>\n.output-wrapper {\n    position: fixed;\n    top: 0;\n    right: 0;\n    width: 300px;\n    height: 100vh; /* viewport height */\n}\n\n.output {\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5); /* semi-transparent black */\n    color: white; /* white text */\n    white-space: pre-wrap; /* text wrap */\n    font-size: 9px;\n    padding: 10px; /* padding */\n    margin: 0; /* no margins */\n    overflow: auto; /* scroll if content overflows */\n}\n\n</style>",
            "<style id='gui_gui-styles'>\n.titleBar {\n    background-color: orange;\n    border-bottom: 1px solid black;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-family: monospace;\n    font-size: small;\n    padding: 5px;\n    border-bottom: 2px solid black;\n}\n\n.titleBar button {\n    border: none;\n    background: none;\n    cursor: pointer;\n    font-size: 6;\n    padding: 0;\n    -webkit-user-select: none; /* Safari */\n    -ms-user-select: none; /* IE 10+ */\n    user-select: none; /* Standard syntax */\n}\n\n.window {\n    position: absolute;\n    display: flex;\n    flex-direction: column;\n    background-color: white;\n    border: 2px solid black;\n    border-radius: 8px;\n    box-shadow: 4px 4px 0 0 rgba(0,0,0,0.5);\n    overflow: hidden;\n    padding: 0;\n}\n\n.contentPlaceholder {\n    flex-grow: 1;\n    overflow: auto;\n    padding: 5px;\n}\n\n.statusPlaceholder {\n    border-top: 1px solid black;\n    font-family: monospace;\n    font-size: small;\n}\n\n.resizeHandle {\n    width: 0px;\n    height: 0px;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    cursor: se-resize;\n    border-width: 0 0 10px 10px;\n    border-style: solid;\n    border-color: transparent transparent #ff7200 transparent;\n    transform: rotate(0deg);\n}\n\n.toolbar {\n    display: flex;\n    justify-content: flex-start;\n    padding: 2px;\n    margin-bottom: 2px;\n    border-bottom: 1px solid black;\n    background-color: antiquewhite;\n}\n\n.toolbar button {\n    border: none;\n    cursor: pointer;\n    background-color: transparent;\n}\n\n</style>",
            "<script id='gui_draggable'>\n(() => {\n// Firstly, we need to check if window.os exists and gui exists inside it. If not, we create them.\nif (!window.os) {\n    window.os = {};\n}\nif (!window.os.gui) {\n    window.os.gui = {};\n}\n\n// Now we implement makeDraggable function\nwindow.os.gui.makeDraggable = function (root, dragHandleHTMLElement) {\n    var isDragging = false; // flag to check if we're currently dragging\n    var offsetX = 0; // offset from mouse to element start position\n    var offsetY = 0; // offset from mouse to element start position\n    \n    // function to start dragging\n    function startDragging(e) {\n        e = e || window.event; // for IE\n        e.preventDefault(); // prevent selection of text while dragging\n        isDragging = true; // set flag to true\n        offsetX = e.clientX - root.getBoundingClientRect().left; // calculate offsets\n        offsetY = e.clientY - root.getBoundingClientRect().top;\n        document.onmousemove = function (e) { moveElement(e); }; // set mousemove event handler\n        document.onmouseup = function () { stopDragging(); }; // set mouseup event handler\n    }\n    \n    // function to move element during dragging\n    function moveElement(e) {\n        e = e || window.event; // for IE\n        if (isDragging) { // if we're currently dragging\n            var newX = e.clientX - offsetX; // calculate new position\n            var newY = e.clientY - offsetY; // calculate new position\n            root.style.left = newX + 'px'; // set new position\n            root.style.top = newY + 'px'; // set new position\n        }\n    }\n    \n    // function to stop dragging\n    function stopDragging() {\n        isDragging = false; // set flag to false\n        document.onmousemove = null; // remove mousemove event handler\n        document.onmouseup = null; // remove mouseup event handler\n    }\n    \n    // add mousedown event listener to drag handle\n    dragHandleHTMLElement.addEventListener('mousedown', startDragging);\n}\n\n// Create 'gui' namespace if it doesn't exist\nif (!window.os) {\n    window.os = {};\n}\nif (!window.os.gui) {\n    window.os.gui = {};\n}\n\n// Function to make an element resizable\nwindow.os.gui.makeResizable = function (root, resizeHandleElement) {\n    var startX;\n    var startY;\n    var startWidth = root.offsetWidth;\n    var startHeight = root.offsetHeight;\n    \n    // Function to handle mouse down event\n    function handleMouseDown(e) {\n        e = e || window.event;\n        startX = e.clientX;\n        startY = e.clientY;\n        document.onmouseup = handleMouseUp;\n        document.onmousemove = handleMouseMove;\n    }\n    \n    // Function to handle mouse up event\n    function handleMouseUp() {\n        document.onmouseup = null;\n        document.onmousemove = null;\n        startWidth = root.offsetWidth;\n        startHeight = root.offsetHeight;\n    }\n    \n    // Function to handle mouse move event\n    function handleMouseMove(e) {\n        e = e || window.event;\n        var diffX = e.clientX - startX;\n        var diffY = e.clientY - startY;\n        root.style.width = (startWidth + diffX) + 'px';\n        root.style.height = (startHeight + diffY) + 'px';\n    }\n    \n    // Add event listeners to handle mouse events\n    resizeHandleElement.addEventListener('mousedown', handleMouseDown);\n}\n\n// Assuming window.os.gui is already defined\nif (!window.os.gui) {\n    window.os.gui = {};\n}\n\n// Function to bring to front\nwindow.os.gui.bringToFront = function (rootDomNode) {\n    // Internal function to set z-index to 0 for all elements with same class as rootDomNode\n    var setZIndexToZero = function (className) {\n        var elements = document.getElementsByClassName(className);\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].style.zIndex = 0;\n        }\n    };\n    \n    // Set z-index of rootDomNode to 1\n    rootDomNode.style.zIndex = 1;\n    \n    // Add mousedown event listener to rootDomNode\n    rootDomNode.addEventListener('mousedown', function () {\n        setZIndexToZero(rootDomNode.className);\n    });\n};\n\n\n})()\n</script>",
            "<script id='gui_titleBar'>\n(() => {\nif (!window.os) {\n    window.os = {};\n}\nif (!window.os.gui) {\n    window.os.gui = {};\n}\n\nwindow.os.gui.titleBar = function(parentElement, title, close) {\n    // Create root DOM element with class .titleBar\n    var root = document.createElement('div');\n    root.className = 'titleBar';\n    \n    // Create span containing the title parameter\n    var span = document.createElement('span');\n    span.textContent = title;\n    root.appendChild(span);\n    \n    // Create button with text '\u274c' and class 'close'\n    var button = document.createElement('button');\n    button.textContent = '\u274c';\n    button.className = 'close';\n    button.addEventListener('click', close); // Add click event listener to the button\n    root.appendChild(button);\n    \n    // Append root DOM element to parentElement\n    parentElement.appendChild(root);\n};\n\n\n})()\n</script>",
            "<script id='gui_toolbar'>\n(() => {\n// Assuming os.gui is already defined as an object\nif (typeof window.os === 'undefined') window.os = {};\nif (typeof window.os.gui === 'undefined') window.os.gui = {};\n\n// Function to create toolbar\nwindow.os.gui.createToolbar = function(win) {\n    // Create root DOM element with class .toolbar\n    var toolbar = document.createElement('div');\n    toolbar.className = 'toolbar';\n    \n    // Append root DOM element to .toolbarPlaceholder from win parameter\n    win.querySelector('.toolbarPlaceholder').appendChild(toolbar);\n    \n    // Return an object with addButton function\n    return {\n        addButton: function(text, callback) {\n            // Create button element\n            var button = document.createElement('button');\n            button.textContent = text;\n            \n            // Add click event listener to button\n            button.addEventListener('click', callback);\n            \n            // Append button to toolbar\n            toolbar.appendChild(button);\n        }\n    };\n};\n\n\n})()\n</script>",
            "<script id='gui_window'>\n(() => {\nwindow.os.gui = window.os.gui || {};  // Initialize namespace if it doesn't exist\nwindow.os.gui.createWindow = function(emoji = '\ud83d\udda5\ufe0f', title = 'Window', width = 400, height = 300) {\n    // Create root DOM element\n    var root = document.createElement('div');\n    root.className = 'window';\n    root.style.width = width + 'px';\n    root.style.height = height + 'px';\n    document.body.appendChild(root);\n    \n    // Bring root DOM node to front when mousedown event is triggered\n    window.os.gui.bringToFront(root);\n    \n    // Create placeholder divs for title, toolbar, content and status\n    ['titlePlaceholder', 'toolbarPlaceholder', 'contentPlaceholder', 'statusPlaceholder'].forEach(function(className) {\n        var placeholder = document.createElement('div');\n        placeholder.className = className;\n        root.appendChild(placeholder);\n    });\n    \n    // Create resize handle\n    var resizeHandle = document.createElement('div');\n    resizeHandle.className = 'resizeHandle';\n    root.appendChild(resizeHandle);\n    \n    // Create titleBar\n    window.os.gui.titleBar(root.querySelector('.titlePlaceholder'), emoji + ' ' + title, function() {\n        document.body.removeChild(root);  // Remove root DOM node from document body when close button is clicked\n    });\n    \n    // Make window draggable by title placeholder\n    window.os.gui.makeDraggable(root, root.querySelector('.titlePlaceholder'));\n    \n    // Make window resizable by resize handle\n    window.os.gui.makeResizable(root, resizeHandle);\n    \n    // Position window in center of document\n    root.style.position = 'absolute';\n    root.style.left = (window.innerWidth / 2 - width / 2) + 'px';\n    root.style.top = (window.innerHeight / 2 - height / 2) + 'px';\n    \n    return root;  // Return root DOM node\n};\n\nwindow.os.gui = window.os.gui || {};  // Ensure os.gui namespace exists\n\nwindow.os.gui.attachToWindow = function(windowElement, contentElement) {\n    // Get .contentPlaceholder of windowElement\n    var contentPlaceholder = windowElement.querySelector('.contentPlaceholder');\n    \n    // Append contentElement to .contentPlaceholder of windowElement\n    contentPlaceholder.appendChild(contentElement);\n};\n\n\n})()\n</script>",
            "<script id='registry_extension'>\n(() => {\n// Check if window.os exists, if not create it\nif (typeof window.os === 'undefined') {\n    window.os = {};\n}\n\n// Check if window.os.registry exists, if not create it\nif (typeof window.os.registry === 'undefined') {\n    window.os.registry = {};\n}\n\n// Define registerExtension function\nwindow.os.registerExtension = function(extension, emoji, callback) {\n    // Store extension, emoji and callback in window.os.registry\n    window.os.registry[extension] = {emoji: emoji, callback: callback};\n};\n\n\n})()\n</script>",
            "<script id='registry_app-icon'>\n(() => {\nwindow.os = window.os || {};\nwindow.os.getOSIcon = function(path, callback) {\n    const root = document.createElement('div');\n    root.classList.add('icon');\n    \n    const isFile = window.os.fs.isFile(path);\n    const emoji = document.createElement('span');\n    emoji.classList.add('emoji');\n    emoji.textContent = isFile ? '\ud83d\udcc4' : '\ud83d\udcc1';\n    root.appendChild(emoji);\n    \n    const title = document.createElement('div');\n    title.classList.add('title');\n    title.textContent = path.split('/').pop();  // Assuming path is in Unix format\n    root.appendChild(title);\n    \n    const extension = path.split('.').pop();  // Assuming path has an extension\n    let currentCallback = callback;\n    if (extension in window.os.registry) {\n        const {emoji: regEmoji, callback: regCallback} = window.os.registry[extension];\n        const appEmoji = document.createElement('span');\n        appEmoji.classList.add('app-emoji');\n        appEmoji.textContent = regEmoji;\n        root.appendChild(appEmoji);\n        \n        currentCallback = regCallback;\n    }\n    \n    root.addEventListener('click', () => currentCallback(path));\n    \n    return root;\n};\n\n\n})()\n</script>",
            "<script id='registry_registry'>\n(() => {\n// Define the registerApplication function on the os object\nwindow.os.registerApplication = function(title, emoji, callback, width=400, height=400, extensions=undefined) {\n  // Define an internal execute function\n  const execute = (...params) => {\n    // Create a new window instance with the title, emoji, width and height\n    const appWindow = window.os.gui.createWindow(emoji, title, width, height);\n    \n    // Attach to window the result of calling the callback with the window instance and spread params\n    const content = callback(appWindow, ...params);\n    window.os.gui.attachToWindow(appWindow, content);\n  };\n  \n  // If extensions is defined, call registerExtension for each extension with the emoji and the execute function\n  if (extensions) {\n    extensions.forEach(extension => {\n      window.os.registerExtension(extension, emoji, execute);\n    });\n  }\n  \n  // Call addApp with the emoji, title and execute function \n  window.os.addApp(emoji, title, execute);\n};\n\n\n})()\n</script>",
            "<style id='apps_styles'>\n.browser {\n    display: flex;\n    flex-wrap: wrap;\n}\n\n</style>",
            "<style id='apps_assistant-styles'>\n.chat {\n    display: flex;\n    flex-direction: column;\n}\n\n.results {\n    width: 100%;\n    height: 300px;\n    overflow-y: scroll;\n    margin: 10px;\n}\n\n.results pre {\n    white-space: pre-wrap;\n}\n\n</style>",
            "<script id='development_run-app'>\n(() => {\n// Define runApp on os object\nwindow.os.runApp = function(callback, width = 500, height = 400) {\n    // Create new window instance with 'Development' title , '\ud83d\udd25' emoji, width and height\n    const appWindow = window.os.gui.createWindow('\ud83d\udd25', 'Development', width, height);\n    \n    // Attach to window the result of calling the callback with the window instance \n    const content = callback(appWindow);\n    window.os.gui.attachToWindow(appWindow, content);\n};\n\n\n})()\n</script>",
            "<style id='games_styles'>\n.gmroot {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 2px;\n    padding: 4px;\n    background-color: white;\n}\n\n.row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n}\n\n.cell {\n    width: 22px;\n    height: 22px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid darkgray;\n    border-radius: 2px;\n    margin: 1px;\n    font-family: monospace;\n}\n\n.cell.visited {\n    background-color: white;\n    border-color: white;\n}\n\n.score {\n    margin: 4px;\n    font-family: monospace;\n    font-weight: bold;\n    text-align: center;\n    background-color: white;\n    border: 2px solid white;\n    border-radius: 2px;\n}\n\n</style>"
        ]
    },
    "body": {
        "_children_": [
            "<div id='desktop_content'>\n</div>",
            "<script id='output_output-window'>\n(() => {\n// Create root container div\nlet outputWrapper = document.createElement('div');\noutputWrapper.className = 'output-wrapper';\noutputWrapper.id = 'output-wrapper';\ndocument.body.appendChild(outputWrapper);\n\n// Create output pre element\nlet output = document.createElement('pre');\noutput.className = 'output';\noutput.id = 'output';\noutputWrapper.appendChild(output);\n\n// Internal function to fetch content from 'http://localhost:8080/output'\nasync function fetchContent() {\n  try {\n    let response = await fetch('http://localhost:8080/output');\n    let data = await response.text();\n    output.innerHTML = data;\n  } catch (error) {\n    console.error('Error fetching content:', error);\n  }\n}\n\n// Fetch http://localhost:8080/ping\nfetch('http://localhost:8080/ping')\n  .then(response => {\n    if (response.status === 200) {\n      // If response is 200, set an interval to call fetchContent every 1000ms\n      setInterval(fetchContent, 1000);\n    } else {\n      console.error('Ping failed with status:', response.status);\n    }\n  })\n  .catch(error => {\n    console.error('Error pinging server:', error);\n  });\n\n\n})()\n</script>",
            "<script id='registry_hello-world'>\n(() => {\n// Define your application's title, emoji and callback function\nconst title = \"Hello World\";\nconst emoji = \"\ud83d\udc4b\";\nconst callback = (appWindow, param1, param2) => {\n   // Create root element div\n   const root = document.createElement('div');\n   \n   // Create h1 child element with 'Hello World' text\n   const h1 = document.createElement('h1');\n   h1.textContent = 'Hello World';\n   root.appendChild(h1);\n   \n   // If path is defined append a pre element containing the content of reading the file at the path\n   if (param1) {\n       const pre = document.createElement('pre');\n       pre.textContent = window.os.fs.readPath(param1);\n       root.appendChild(pre);\n   }\n   \n   // Return root element\n   return root;\n};\nconst width = 300;  // Set width to 300\nconst height = 200; // Set height to 200\n\n// Register your application with the operating system\nwindow.os.registerApplication(title, emoji, callback, width, height);\n\n\n})()\n</script>",
            "<script id='apps_editor'>\n(() => {\nfunction editor(win, path) {\n    // Create a new div element with class 'editor'\n    let editorDiv = document.createElement('div');\n    editorDiv.className = 'editor';\n    \n    // Create a textarea element\n    let textarea = document.createElement('textarea');\n    textarea.style.width = '100%';\n    textarea.style.height = '400px';\n    \n    // Save reference to textarea for later use\n    let textareaRef = textarea;\n    \n    // Append textarea to editorDiv\n    editorDiv.appendChild(textarea);\n    \n    // Create toolbar on win parameter\n    let toolbarInstance = os.gui.createToolbar(win); \n    \n    // If path is defined, read file content and set it to textarea\n    if (path) {\n        let content = window.os.fs.readPath(path);\n        textareaRef.value = content;\n    }\n    \n    // Add button on toolbar with '\ud83d\udcbe' text to save textarea content to path if path is defined, prompt for path otherwise\n    toolbarInstance.addButton('\ud83d\udcbe', function() {\n        if (path) {\n            window.os.fs.write(path, textareaRef.value);\n        } else {\n            path = prompt('Please enter a path');\n            window.os.fs.write(path, textareaRef.value);\n        }\n    });\n    \n    // Return editorDiv\n    return editorDiv;\n}\n\n// Register application with 'Editor' title, \u270d\ufe0f as emoji, editor function reference and 400x450 size for [txt,doc] extensions \nwindow.os.registerApplication('Editor', '\u270d\ufe0f', editor, 400, 450, ['txt', 'doc']);\n\n\n})()\n</script>",
            "<script id='apps_browser'>\n(() => {\n// Define your application's title, emoji and callback function\nconst title = \"Browser\";\nconst emoji = \"\ud83d\udcc2\";\nconst callback = (appWindow) => {\n  // Create root DOM element with class 'browser'\n  const root = document.createElement('div');\n  root.classList.add('browser');\n  let browserPath = '';\n  \n  // Generate internal load function\n  const load = (path) => {\n    // Set browserPath to the path\n    browserPath = path;\n    \n    // Remove all children of the root element\n    while (root.firstChild) {\n      root.removeChild(root.firstChild);\n    }\n    \n    // If path is not empty, create back button\n    if (path !== '') {\n      const backButton = document.createElement('div');\n      backButton.classList.add('icon');\n      const backEmoji = document.createElement('span');\n      backEmoji.classList.add('emoji');\n      backEmoji.textContent = '\ud83d\udd19';\n      backButton.appendChild(backEmoji);\n      backButton.onclick = () => load(path.split('/').slice(0, -1).join('/'));\n      root.appendChild(backButton);\n    }\n    \n    // List all files in the path and create icons for each item\n    window.os.fs.ls(path).forEach((item) => {\n      const iconDiv = window.os.getOSIcon(path + '/' + item, () => load(path + '/' + item));\n      root.appendChild(iconDiv);\n    });\n  };\n  \n  // Execute load on browserPath variable\n  load(browserPath);\n  \n  // Create toolbar on the appWindow parameter\n  const toolbar = window.os.gui.createToolbar(appWindow);\n  \n  // Add button on the toolbar with '\ud83d\udcc1' text and prompt for a name and call mkdir on current browserPath and provided name\n  toolbar.addButton('\ud83d\udcc1', () => {\n    const name = prompt('Enter directory name');\n    window.os.fs.mkdir(browserPath + '/' + name);\n    load(browserPath);\n  });\n  \n  // Add button on the toolbar with '\ud83d\udcc4' text and prompt for a name and call write on current browserPath and provided name and '' as content\n  toolbar.addButton('\ud83d\udcc4', () => {\n    const name = prompt('Enter file name');\n    window.os.fs.write(browserPath + '/' + name, '');\n    load(browserPath);\n  });\n  \n  // Return root DOM element\n  return root;\n};\nconst width = 400;   // Optional, default is 400\nconst height = 400;   // Optional, default is 400\nconst extensions = undefined;  // Optional, default is undefined\n\n// Register your application with the operating system\nwindow.os.registerApplication(title, emoji, callback, width, height, extensions);\n\n\n})()\n</script>",
            "<script id='apps_run'>\n(() => {\n// Define your application's title, emoji and callback function\nconst title = \"Run\";\nconst emoji = \"\u25b6\ufe0f\";\nconst width = 400;\nconst height = 70;\nlet instruction = \"\";\n\nconst application = (parent) => {\n  // Create root DOM element with class 'chat'\n  const root = document.createElement('div');\n  root.className = 'chat';\n  parent.appendChild(root);\n\n  // Create input element with 100% width\n  const input = document.createElement('input');\n  input.style.width = '100%';\n  root.appendChild(input);\n\n  // Add keyup event listener to input element\n  input.addEventListener('keyup', (event) => {\n    if (event.key === 'Enter') {\n      // Save input value to instruction variable and clear input\n      instruction = event.target.value;\n      event.target.value = '';\n      \n      // POST instruction to server\n      fetch('http://localhost:8080', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ instruction: instruction, full: false })\n      })\n      .then(response => response.text())\n      .then(data => {\n        // Add script tag to body with id 'run-script' and add response text content to script tag\n        const script = document.createElement('script');\n        script.id = 'run-script';\n        script.textContent = data;\n        document.body.appendChild(script);\n      })\n      .catch(error => console.error('Error:', error));\n    }\n  });\n  \n  return root;\n};\n\n// Register your application with the operating system\nwindow.os.registerApplication(title, emoji, application, width, height);\n\n\n})()\n</script>",
            "<script id='apps_assistant'>\n(() => {\n// Define your assistant function\nfunction assistant(parent) {\n    // Create root dom element with class 'chat'\n    const chat = document.createElement('div');\n    chat.className = 'chat';\n    parent.appendChild(chat);\n    \n    // Create div element with class 'results'\n    const results = document.createElement('div');\n    results.className = 'results';\n    results.style.height = '300px';\n    chat.appendChild(results);\n    \n    // Create input element\n    const input = document.createElement('input');\n    input.style.width = '100%';\n    chat.appendChild(input);\n    \n    // Add button with '\u27a1\ufe0f' text\n    const button = document.createElement('button');\n    button.textContent = '\u27a1\ufe0f';\n    button.onclick = () => {\n        // Save input value to instruction variable\n        const instruction = input.value;\n        input.value = '';\n        \n        // POST instruction to 'http://localhost:8080'\n        fetch('http://localhost:8080', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ instruction: instruction, full: true })\n        })\n        .then(response => response.text())\n        .then(data => {\n            // Add pre tag with response text content to results\n            const pre = document.createElement('pre');\n            pre.textContent = data;\n            results.appendChild(pre);\n        });\n    };\n    chat.appendChild(button);\n    \n    return chat;\n}\n\n// Register your application with the operating system\nwindow.os.registerApplication('Assistant', '\ud83d\udc68\ud83c\udffd\u200d\u2695\ufe0f', assistant, 400, 400);\n\n\n})()\n</script>",
            "<script id='development_ide'>\n(() => {\nfunction compile(source) {\n    // Remove existing script tag with id 'run-script' if exists\n    let existingScript = document.getElementById('run-script');\n    if (existingScript) {\n        existingScript.parentNode.removeChild(existingScript);\n    }\n    \n    // Fetch POST request to 'http://localhost:8080' with JSON {instruction: source}\n    fetch('http://localhost:8080', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({instruction: source})\n    })\n    .then(response => response.text())  // Get response text content\n    .then(data => {\n        // Create script tag with id 'run-script' and add response text content to it\n        let script = document.createElement('script');\n        script.id = 'run-script';\n        script.textContent = data;\n        document.body.appendChild(script);  // Append script tag to body\n    })\n    .catch(error => {\n        console.error('Error:', error);  // Handle any errors\n    });\n}\n\nfunction ide(win, path) {\n    // Create root element\n    let ide = document.createElement('div');\n    ide.classList.add('ide');\n    \n    // Create textarea element\n    let textarea = document.createElement('textarea');\n    textarea.style.width = '100%';\n    textarea.style.height = '500px';\n    \n    // If path is defined, read file content and set it to textarea\n    if (path) {\n        let content = window.os.fs.readPath(path);\n        if (content) {\n            textarea.value = content;\n        }\n    }\n    \n    // Create toolbar on win\n    let toolbarInstance = window.os.gui.createToolbar(win); \n    \n    // Add buttons to toolbar\n    toolbarInstance.addButton('\u25b6\ufe0f', function() {\n        compile(textarea.value);  // Assuming compile function is defined elsewhere in your code\n    });\n    toolbarInstance.addButton('\ud83d\udcbe', function() {\n        if (path) {\n            window.os.fs.write(path, textarea.value);\n        } else {\n            path = prompt('Please enter a path');\n            if (path) {\n                window.os.fs.write(path, textarea.value);\n            }\n        }\n    });\n    \n    // Append textarea to ide element\n    ide.appendChild(textarea);\n    \n    return ide;\n}\n\n// Register application with 'IDE' title, \ud83e\udde0 as emoji, ide function reference and 800x600 size\nwindow.os.registerApplication('IDE', '\ud83e\udde0', ide, 800, 600, ['script']);\n\n\n})()\n</script>",
            "<script id='games_minesweper'>\n(() => {\nfunction minesweeper(appWindow, param1, param2) {\n    // Create root element\n    const root = document.createElement('div');\n    root.className = 'gmroot';\n    \n    // Generate matrix\n    let matrix = Array(8).fill().map(() => Array(8).fill(0));\n    \n    // Pick 10 random cells and increase neighbouring cells' values\n    let mines = Array(10).fill().map(() => [Math.floor(Math.random() * 8), Math.floor(Math.random() * 8)]);\n    mines.forEach(([x, y]) => {\n        matrix[x][y] = -40;\n        for (let dx = -1; dx <= 1; dx++) {\n            for (let dy = -1; dy <= 1; dy++) {\n                let nx = x + dx, ny = y + dy;\n                if (nx >= 0 && nx < 8 && ny >= 0 && ny < 8) {\n                    matrix[nx][ny]++;\n                }\n            }\n        }\n    });\n    \n    // Set score to 64\n    let score = 64;\n    \n    // Add score div\n    let scoreDiv = document.createElement('div');\n    scoreDiv.className = 'score';\n    scoreDiv.textContent = `Discovered: ${score}`;\n    root.appendChild(scoreDiv);\n    \n    // Add matrix to root element\n    for (let x = 0; x < 8; x++) {\n        let rowDiv = document.createElement('div');\n        rowDiv.className = 'row';\n        for (let y = 0; y < 8; y++) {\n            let cellDiv = document.createElement('div');\n            cellDiv.className = 'cell';\n            cellDiv.textContent = ' ';\n            cellDiv.dataset.x = x;\n            cellDiv.dataset.y = y;\n            cellDiv.addEventListener('click', () => reveal(x, y));\n            rowDiv.appendChild(cellDiv);\n        }\n        root.appendChild(rowDiv);\n    }\n    \n    // Define reveal function\n    const reveal = (x, y) => {\n        let cellDiv = root.querySelector(`[data-x=\"${x}\"][data-y=\"${y}\"]`);\n        if (cellDiv.classList.contains('visited')) {\n            return;\n        }\n        let value = matrix[x][y];\n        cellDiv.textContent = value < 0 ? '\ud83d\udca3' : value;\n        cellDiv.classList.add('visited');\n        if (value < 0) {\n            alert('Game Over');\n        } else {\n            score--;\n            scoreDiv.textContent = `Discovered: ${score}`;\n            if (value === 0) {\n                for (let dx = -1; dx <= 1; dx++) {\n                    for (let dy = -1; dy <= 1; dy++) {\n                        let nx = x + dx, ny = y + dy;\n                        if (nx >= 0 && nx < 8 && ny >= 0 && ny < 8) {\n                            reveal(nx, ny);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    \n    return root;\n}\n\n// Register application\nconst title = \"Minesweeper\";\nconst emoji = \"\ud83d\udca3\";\nconst width = 300;\nconst height = 300;\nwindow.os.registerApplication(title, emoji, minesweeper, width, height);\n\n\n})()\n</script>"
        ]
    },
    "_children_": []
}