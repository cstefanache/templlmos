{"compiled_instruction": "Generate JS code using `let` instead of `var`. All the `os` functions are already defined.\n### Instruction:\n Create a self executing function that defines a function called `editor` on the `window.os.apps` object that takes a parameter `path` and having the following functionality:\n* creates a root dom element with the class `editor`\n* call `os.gui.createWindow` with the following parameters: `'\ud83d\udcc4 Text Editor' {path || ''}`, created root DOM element, `500`, `500` and store the returned value to constant `win`\n* call `os.gui.toolbar(win)` and store the returned value to constant `toolbar`\n* call `toolbar.addButton` with parameters '\ud83d\udcbe' and `() => save()`\n* add a `textarea` element to the root dom element, 100% width and height\n* if the path is not empty, store result of executiing `os.fs.readPath` into `content` constant and set it to the `textarea`\n* create an internal function `save` that:\n - if the path is not empty, store the value of the `textarea` to the `content` constant and call `os.fs.write` with the `path` and `textarea` value\n - if the path is empty, call `os.gui.createPrompt` with the following parameters: `'Save File'` and `os.gui.createPrompt('Enter folder name', path => os.fs.write(path, textarea.value))` \n### Response:\n", "output": "Here is how you can implement this in JavaScript:\n\n```javascript\n(function() {\n    window.os.apps.editor = function(path) {\n        const root = document.createElement('div');\n        root.className = 'editor';\n        document.body.appendChild(root);\n        \n        const win = os.gui.createWindow('\ud83d\udcc4 Text Editor', root, 500, 500);\n        const toolbar = os.gui.toolbar(win);\n        toolbar.addButton('\ud83d\udcbe', save);\n        \n        const textarea = document.createElement('textarea');\n        textarea.style.width = '100%';\n        textarea.style.height = '100%';\n        root.appendChild(textarea);\n        \n        let content = '';\n        if (path) {\n            content = os.fs.readPath(path);\n            textarea.value = content;\n        }\n        \n        function save() {\n            if (path) {\n                content = textarea.value;\n                os.fs.write(path, content);\n            } else {\n                os.gui.createPrompt('Save File', (newPath) => {\n                    os.fs.write(newPath, textarea.value);\n                });\n            }\n        }\n    };\n})();\n\n```"}