{
    "crc": 2396182943,
    "compiled_instruction": "\nYou are a code generator that produces JavaScript code exclusively using vanilla JavaScript that will execute in a browser window. When responding to queries, provide only valid and complete JavaScript code without any additional explanations or comments. Do not include any frameworks or libraries such as jQuery, React, or others. Follow best practices for vanilla JavaScript and ensure compatibility with modern browsers. Do not write node or server-side code.\n\nGiven the following implemented functions:\n    /**\n     * Saves the filesystem object to local storage.\n     * @function\n     */\nwindow.os.fs.sync = function() { ... }\n    /**\n     * Processes and returns a path, handling `..`, `//`, and `/`.\n     * @param {string} path - The path to process.\n     * @returns {string|null} - The processed path or null if invalid.\n     */\nwindow.os.fs.getPath = function(path) { ... }\n    /**\n     * Checks if the path is valid.\n     * @param {string} path - The path to check.\n     * @returns {boolean} - True if valid, false otherwise.\n     */\nwindow.os.fs.isValidPath = function(path) { ... }\n    /**\n     * Returns a list of entries in the filesystem object at the given path.\n     * @param {string} path - The path to list entries from.\n     * @returns {Array} - An array of entries.\n     */\nwindow.os.fs.ls = function(path) { ... }\n    /**\n     * Creates an empty object at the given path.\n     * @param {string} path - The path to create the directory.\n     */\nwindow.os.fs.mkdir = function(path) { ... }\n    /**\n     * Removes the object at the given path.\n     * @param {string} path - The path to remove the object from.\n     */\nwindow.os.fs.rm = function(path) { ... }\n    /**\n     * Writes the content to an entry in the filesystem object at the given path.\n     * @param {string} path - The path to write to.\n     * @param {string} content - The content to write.\n     */\nwindow.os.fs.write = function(path, content) { ... }\n    /**\n     * Reads an entry split by `\\n` in the filesystem object at the given path.\n     * @param {string} path - The path to read from.\n     * @returns {string|null} - The content of the file or null if not found.\n     */\nwindow.os.fs.read = function(path) { ... }\n\n/**\n * Registers a new application with the specified title, emoji, callback, dimensions, and optional extensions.\n * @param {string} title - The title of the application.\n * @param {string} emoji - The emoji to display for the application.\n * @param {function} callback - The function to call when the application is executed.\n * @param {number} [width=400] - The width of the application window.\n * @param {number} [height=400] - The height of the application window.\n * @param {Array} [extensions] - An optional array of extensions to register with the application.\n */\nwindow.os.registerApplication = function(title, emoji, callback, width = 400, height = 400, extensions) { ... }\n\n/**\n * Creates a toolbar and appends it to the specified window element.\n * @param {HTMLElement} win - The window element to which the toolbar will be appended.\n * @returns {function(string, function): void} - A function to add buttons to the toolbar.\n */\nwindow.os.gui.createToolbar = function(win) { ... }\n    /**\n     * Adds a button to the toolbar.\n     * @param {string} text - The text to display on the button.\n     * @param {function} callback - The function to call when the button is clicked.\n     */\n\nfunction compile(source) { ... }\n\n\n1. Create an `ide` function that takes a win and path parameter: \n - create a root dom element with class `ide`\n - create a textarea element with 100% width and 500px height\n - if path is not empty, read the file content and set it to the textarea\n - create toolbar on win\n - add button on the toolbar with `\u25b6\ufe0f` text and on click execute `compile` function with textarea content\n - add button on the toolbar with `\ud83d\udcbe` text and on click fs.write textarea content to the path if path is defined, prompt for the path otherwise\n - return dom element\n2. Call register application with 'IDE' title, \ud83e\udde0 as emoji, already defined `ide` function reference and 800x600 size and register for ['script'] extensions\n",
    "result": "```javascript\nfunction ide(win, path) {\n    const root = document.createElement('div');\n    root.className = 'ide';\n\n    const textarea = document.createElement('textarea');\n    textarea.style.width = '100%';\n    textarea.style.height = '500px';\n    root.appendChild(textarea);\n\n    if (path) {\n        const content = window.os.fs.read(path);\n        if (content) {\n            textarea.value = content;\n        }\n    }\n\n    const toolbar = window.os.gui.createToolbar(win);\n    toolbar('\u25b6\ufe0f', () => compile(textarea.value));\n    toolbar('\ud83d\udcbe', () => {\n        const savePath = path || prompt('Enter path to save:');\n        if (savePath) {\n            window.os.fs.write(savePath, textarea.value);\n        }\n    });\n\n    return root;\n}\n\nwindow.os.registerApplication('IDE', '\ud83e\udde0', ide, 800, 600, ['script']);\n```",
    "output": "function ide(win, path) {\n    const root = document.createElement('div');\n    root.className = 'ide';\n\n    const textarea = document.createElement('textarea');\n    textarea.style.width = '100%';\n    textarea.style.height = '500px';\n    root.appendChild(textarea);\n\n    if (path) {\n        const content = window.os.fs.read(path);\n        if (content) {\n            textarea.value = content;\n        }\n    }\n\n    const toolbar = window.os.gui.createToolbar(win);\n    toolbar('\u25b6\ufe0f', () => compile(textarea.value));\n    toolbar('\ud83d\udcbe', () => {\n        const savePath = path || prompt('Enter path to save:');\n        if (savePath) {\n            window.os.fs.write(savePath, textarea.value);\n        }\n    });\n\n    return root;\n}\n\nwindow.os.registerApplication('IDE', '\ud83e\udde0', ide, 800, 600, ['script']);\n",
    "library": "function ide(win, path) { ... }\n"
}