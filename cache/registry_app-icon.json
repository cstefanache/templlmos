{
    "crc": 2468940726,
    "compiled_instruction": [
        "You are a frontend web developer, do not use jquery that writes only browser JS, JavaScript, HTML and CSS\n### Instruction:\nGiven the following examples:\n Sure, here is how you can use these functions:\n\n1. `window.os.fs.sync()` - This function will save the current state of your `filesystem` object to `localStorage`. This is useful when you want to persist your data across page reloads or even browser sessions. \n\n    Example: \n    ```javascript\n    window.os.fs.sync();\n    ```\n2. `window.os.fs.readPath(path)` - This function will read and return the value at a given path in your `filesystem` object. If the path does not exist, it will return `undefined`. \n\n    Example: \n    ```javascript\n    let content = window.os.fs.readPath('/folder/file');\n    console.log(content);  // Outputs content of 'file' in 'folder'\n    ```\n3. `window.os.fs.write(path, content)` - This function will write content to a given path in your `filesystem` object. If the path does not exist, it will create it. \n\n    Example: \n    ```javascript\n    window.os.fs.write('/folder/file', 'Hello, World');\n    ```\n4. `window.os.fs.ls(path)` - This function will return an array of entries (file names or directory names) in a given directory path. If no path is provided, it will return an array of entries in your root directory (`filesystem`). \n\n    Example: \n    ```javascript\n    let entries = window.os.fs.ls('/folder');\n    console.log(entries);  // Outputs array of entries in 'folder'\n    ```\n5. `window.os.fs.mkdir(path)` - This function will create a directory at a given path in your `filesystem` object. If the path does not exist, it will create it. \n\n    Example: \n    ```javascript\n    window.os.fs.mkdir('/newFolder');\n    ```\n6. `window.os.fs.rm(path)` - This function will remove an entry (file or directory) at a given path in your `filesystem` object. If the path does not exist, it will do nothing. \n\n    Example: \n    ```javascript\n    window.os.fs.rm('/folder/file');\n    ```\n7. `window.os.fs.isFile(path)` - This function will return `true` if the given path points to a file (i.e., its value is a string), and `false` otherwise. \n\n    Example: \n    ```javascript\n    let isFile = window.os.fs.isFile('/folder/file');\n    console.log(isFile);  // Outputs true if 'file' in 'folder' is a file, false otherwise\n    ```\nThese functions provide a simple file system interface for JavaScript, allowing you to manipulate files and directories in your `filesystem` object using standard file system operations like `read`, `write`, `list`, `create directory`, and `delete`. The `sync` function is used to persist changes to `localStorage`, allowing your data to be saved across page reloads or even browser sessions.\n\n```\n\n create a new function `getOSIcon` on `window.os` object having a path and callback parameter with the following functionality:\n- create a root element `div` having the class `icon`\n- save isFile to constant\n- add a span element with class `emoji` and content \ud83d\udcc4 if isFile, \ud83d\udcc1 otherwise\n- add a div element with class title containing the name from path\n- extract extension from path and search if is registered in the `window.os.registry` object\n- sets `currentCallback` to parameter callback\n- if extension is registered reads `emoji` and `callback` properties` and a span element with class `app-emoji` with the content of `emoji` property and sets `currentCallback` to `callback` property\n- add click listener to the root element that calls `currentCallback` with the path\n- return the root element \n### Response:\n"
    ],
    "output": [
        "Here's an example of how to implement this function in JavaScript:\n\n```javascript\nwindow.os = window.os || {};\nwindow.os.getOSIcon = function(path, callback) {\n    const root = document.createElement('div');\n    root.classList.add('icon');\n    \n    const isFile = window.os.fs.isFile(path);\n    const emoji = document.createElement('span');\n    emoji.classList.add('emoji');\n    emoji.textContent = isFile ? '\ud83d\udcc4' : '\ud83d\udcc1';\n    root.appendChild(emoji);\n    \n    const title = document.createElement('div');\n    title.classList.add('title');\n    title.textContent = path.split('/').pop();  // Assuming path is in Unix format\n    root.appendChild(title);\n    \n    const extension = path.split('.').pop();  // Assuming path has an extension\n    let currentCallback = callback;\n    if (extension in window.os.registry) {\n        const {emoji: regEmoji, callback: regCallback} = window.os.registry[extension];\n        const appEmoji = document.createElement('span');\n        appEmoji.classList.add('app-emoji');\n        appEmoji.textContent = regEmoji;\n        root.appendChild(appEmoji);\n        \n        currentCallback = regCallback;\n    }\n    \n    root.addEventListener('click', () => currentCallback(path));\n    \n    return root;\n};\n\n```"
    ],
    "library": "This JavaScript function `window.os.getOSIcon` is used to create an icon for a file or directory at a given path. The icon includes an emoji indicating whether it is a file or directory, a title showing the name of the file or directory, and an optional emoji from an application registry if the file has an associated extension. \n\nThe function takes two parameters: `path` (a string representing the file or directory path), and `callback` (a function to be called when the icon is clicked). \n\nHere is an example of how to use this function:\n\n```javascript\nconst iconDiv = window.os.getOSIcon('/home/user/documents/myfile.txt', (path) => {\n  console.log('File clicked:', path);\n});\ndocument.body.appendChild(iconDiv);\n```\n\nIn this example, `/home/user/documents/myfile.txt` is passed as the `path` parameter and an anonymous function is passed as the `callback` parameter. The anonymous function logs to the console when the icon is clicked. The returned `iconDiv` is then appended to the body of the HTML document. \n\nPlease note that this code assumes that `window.os.fs.isFile` and `window.os.registry` exist and work as expected. The `isFile` method checks if the path is for a file and `registry` is an object where file extensions can be mapped to emojis and callbacks. If an extension is found in `registry`, an additional emoji and callback will be added to the icon. \n\nAlso note that this code assumes Unix-style paths (i.e., paths separated by slashes), and it uses the last part of the path as the title (i.e., the filename). If your paths use different conventions, you may need to adjust this code accordingly.\n\n```",
    "library_input": "### Instruction:\nYou are a javascript developer that documents all the declared functions by providing sample usage.\n```\n window.os = window.os || {};\nwindow.os.getOSIcon = function(path, callback) {\n    const root = document.createElement('div');\n    root.classList.add('icon');\n    \n    const isFile = window.os.fs.isFile(path);\n    const emoji = document.createElement('span');\n    emoji.classList.add('emoji');\n    emoji.textContent = isFile ? '\ud83d\udcc4' : '\ud83d\udcc1';\n    root.appendChild(emoji);\n    \n    const title = document.createElement('div');\n    title.classList.add('title');\n    title.textContent = path.split('/').pop();  // Assuming path is in Unix format\n    root.appendChild(title);\n    \n    const extension = path.split('.').pop();  // Assuming path has an extension\n    let currentCallback = callback;\n    if (extension in window.os.registry) {\n        const {emoji: regEmoji, callback: regCallback} = window.os.registry[extension];\n        const appEmoji = document.createElement('span');\n        appEmoji.classList.add('app-emoji');\n        appEmoji.textContent = regEmoji;\n        root.appendChild(appEmoji);\n        \n        currentCallback = regCallback;\n    }\n    \n    root.addEventListener('click', () => currentCallback(path));\n    \n    return root;\n};\n\n \n```\n### Response:\n"
}