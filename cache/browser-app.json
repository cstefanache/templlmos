{"compiled_instruction": "Generate browser vanilla JS code without the use of any library or framework. All the `os` functions are already defined.\n### Instruction:\n Create a self executing function that defines a function called `browser` on the `window.os.apps` object having the following functionality:\nThe `browser` function accepts one parameter `path` and have the following functionality:\n - creates a new `div` element with the class `browser`\n - call `os.gui.createWindow` with the following parameters: path, created DOM element\n - call `os.fs.ls` and store it in a variable `files`\n - for each file in the `files` array, do the following:\n  * save to variable `isFile` the execution of `os.fs.isFile` with the parameter `path + '/' + name`\n  * create a callback function that calls if `isFile` call `os.apps.viewer` or `os.apps.browser` otherwise with the parameter `path + '/' + name`\n  * calls `os.gui.addIcon` with the following parameters: `name`, `'\ud83d\udcc4'` if isFile is true, `'\ud83d\udcc1'` otherwise, callback function and the created DOM element \n### Response:\n", "output": "Here is an example of how you can implement this in JavaScript:\n\n```javascript\n(function() {\n    window.os = window.os || {};\n    window.os.apps = window.os.apps || {};\n    \n    window.os.apps.browser = function(path) {\n        var div = document.createElement('div');\n        div.className = 'browser';\n        document.body.appendChild(div);\n        \n        window.os.gui.createWindow(path, div);\n        \n        var files = window.os.fs.ls(path);\n        \n        files.forEach(function(name) {\n            var isFile = window.os.fs.isFile(path + '/' + name);\n            \n            var callback = (function(name) {\n                return function() {\n                    if (isFile) {\n                        window.os.apps.viewer(path + '/' + name);\n                    } else {\n                        window.os.apps.browser(path + '/' + name);\n                    }\n                };\n            })(name);\n            \n            window.os.gui.addIcon(name, isFile ? '\ud83d\udcc4' : '\ud83d\udcc1', callback, div);\n        });\n    };\n})();\n\n```"}