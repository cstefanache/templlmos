{
    "definition": {
        "head": {
            "_defaults": {
                "prefix": "Generate browser vanilla JS code without the use of any library or framework.\n### Instruction:\n"
            },
            "script": {
                "_generate": [
                    {
                        "id": "os-base",
                        "disabled": false,
                        "instructions": [
                            "Create a new `os` object on the window global object.",
                            "Add an empty `apps` object to the `os` object."
                        ]
                    },
                    {
                        "id": "fs-structure",
                        "disabled": true,
                        "rebuild": false,
                        "instructions": [
                            "add to local storage the following json {\"temp\":{\"hello world.txt\":\"Hello World!\"}} at the `filesystem` key"
                        ]
                    },
                    {
                        "id": "filesystem",
                        "disabled": false,
                        "rebuild": false,
                        "instructions": [
                            "Create a self executing function that holds an empty object called `filesystem` that is loaded from local storage or initialized as empty.",
                            "Define the following methods under the global `window.os` object under `fs` key:",
                            "* `sync()` - save the `filesystem` object to the local storage.",
                            "* `readPath(path)` - returns the content of the entry in the `filesystem` object at the given path. path should be split by `/` and the method should traverse the `filesystem` object and return the value at path (allow undefined). if the path starts with `/` remove the leading `/`",
                            "* `write(path, content)` - writes the content to an entry in the `filesystem` object at the given path and file name. in the end execute the `sync` method.",
                            "* `ls(path) - returns a list of entries in the `filesystem` object at the given path. if path is empty or not found, return the root entries. if the path starts with `/` remove the leading `/`",
                            "* `mkdir(path, dirName)` - creates a new directory in the `filesystem` object at the given path and directory name. in the end execute the `sync` method.",
                            "* `rm(path)` - removes the object at the given path and file name. in the end execute the `sync` method.",
                            "* `isFile(path)` - returns true the entry at the given path is a string."
                        ]
                    }
                ]
            }
        },
        "body": {
            "_defaults": {
                "prefix": "Generate browser vanilla JS code without the use of any library or framework.\n### Instruction:\n"
            },
            "script": {
                "_generate": [
                    {
                        "id": "runtime",
                        "disabled": true,
                        "rebuild": false,
                        "instructions": [
                            "Create async self executing function that holds an empty object called `runtime` initialized as empty.",
                            "Define the following methods under the global `window.os` object under `runtime` key:",
                            "* await for call `http://localhost:8080/ping` if the response code is 200 set the `runtime` object to `{online: true}` otherwise set it to `{online: false}` on exception set it to `{online: false}`"
                        ],
                        "_dep": [
                            "* add a span with the class `status` and `offline` or `online` to the body of the document."
                        ]
                    },
                    {
                        "id": "runtime-compile",
                        "disabled": false,
                        "rebuild": false,
                        "instructions": [
                            "Create async self executing function that:",
                            "Define a function on the global `window.os.runtime` under the `compile` key having a single parameter `code` that:",
                            "* await for POST call `http://localhost:8080/compile` with a json body `{\"model\": \"deepseek-coder-6.7b-instruct.Q5_K_M.gguf\", instruction: code}`",
                            "* read the resulted text from the response and store it in a variable called `result`",
                            "* search the script element with ID `dev` and if it exists remove it",
                            "* create a new script element with ID `dev` and set its inner text to the `result`",
                            "* return result"
                        ]
                    }
                ]
            }
        }
    }
}